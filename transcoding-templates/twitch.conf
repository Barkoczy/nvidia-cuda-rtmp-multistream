# Twitch Optimized Template
video_transcode_options {
    width 1920;
    height 1080;
    framerate 60;
    
    nvenc true;
    nvenc_profile high;
    nvenc_preset p5;          # Balanced preset for Twitch
    nvenc_rc cbr;
    nvenc_surfaces 32;
    nvenc_async 1;
    nvenc_b_ref_mode 1;
    nvenc_max_b_frames 2;
    
    # Twitch-specific x264 settings
    x264_profile high;
    x264_preset veryfast;     # Lower CPU usage for live streaming
    x264opts "keyint=120:min-keyint=120:no-scenecut:rc-lookahead=20:ref=3:bframes=2:b-adapt=1:direct=auto:me=hex:subme=6:trellis=0:deblock=0,0:psy-rd=1.0,0.0:nal-hrd=cbr";
    
    audio_codec aac;
    audio_bitrate 160k;
    audio_channels 2;
    audio_sample_rate 48000;
}